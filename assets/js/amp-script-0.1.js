;
(self.AMP=self.AMP||[]).push({m:0,v:"2303151529000",n:"amp-script",ev:"0.1",l:!0,f:function(t,n){!function(){function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}var r;function i(){return r||(r=Promise.resolve(void 0))}var o=function(){var t=this;this.promise=new Promise((function(n,e){t.resolve=n,t.reject=e}))};function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,n){if(n&&("object"===s(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,n,e){return n&&f(t.prototype,n),e&&f(t,e),t}function h(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(t,n,e,r,i){var o=i.executorsAllowed.includes(8);return{execute:function(t,r,i){return o&&i&&(t=n.getNode(t[r+1]))&&(i=t.transferControlToOffscreen(),e.messageToWorker({12:9,13:[t._index_],38:i},[i])),r+2}}},d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],m=function(t,n){return Array.prototype.forEach.call(t,n)},v=function(){function t(t,n){var e=this;this.nodes=this.count=this.stringContext=this.baseElement=void 0,this.createNodes=function(t,n){for(var r=(t=new Uint16Array(t)).length,i=0;i<r;i+=5){var o=void 0;if(3===t[i+1])o=document.createTextNode(e.stringContext.get(t[i+3]));else if(8===t[i+1])o=document.createComment(e.stringContext.get(t[i+3]));else if(11===t[i+1])o=document.createDocumentFragment();else if(o=e.stringContext.get(t[i+2]),o=0!==t[i+4]?document.createElementNS(e.stringContext.get(t[i+4]),o):document.createElement(o),n&&!n.sanitize(o))continue;e.storeNode(o,t[i])}},this.getNode=function(t){return(t=e.nodes.get(t))&&"BODY"===t.nodeName?e.baseElement:t},this.storeNodes=function(t){e.storeNode(t,++e.count),m(t.childNodes,(function(t){return e.storeNodes(t)}))},this.count=2,this.stringContext=t,this.nodes=new Map([[1,n],[2,n]]),this.baseElement=n,n._index_=2,m(n.childNodes,(function(t){return e.storeNodes(t)}))}return t.prototype.storeNode=function(t,n){t._index_=n,this.nodes.set(n,t)},t}(),b=new Map,g=function(t,n){n&&"value"in n&&null===n.oninput&&(n.oninput=function(){return w(t,n)})},y=function(t,n){n&&"value"in n&&!b.get(n)&&(new MutationObserver((function(n){return n.map((function(n){return w(t,n.target)}))})).observe(n,{attributes:!0}),b.set(n,!0))},w=function(t,n){return t.messageToWorker({12:4,40:{7:n._index_,21:n.value}})},x=function(t){return Object.values(t).map((function(t){return[t.identifier,t.screenX,t.screenY,t.clientX,t.clientY,t.pageX,t.pageY,t.target._index_]}))},k=function(t,n,e,r,i){var o=[],a=i.executorsAllowed.includes(4),u=[window.innerWidth,window.innerHeight],s=function(t,n){return function(r){n&&r.preventDefault();var i=r.currentTarget;if(i&&"value"in i)w(e,r.currentTarget);else if("resize"===r.type){var o=window,a=o.innerWidth,s=o.innerHeight;if(u[0]===a&&u[1]===s)return;u=[window.innerWidth,window.innerHeight],e.messageToWorker({12:5,40:u})}e.messageToWorker({12:1,39:{7:t,25:r.bubbles,26:r.cancelable,27:r.cancelBubble,28:[r.currentTarget._index_||0],29:r.defaultPrevented,30:r.eventPhase,31:r.isTrusted,32:r.returnValue,13:[r.target._index_||0],33:r.timeStamp,12:r.type,35:"keyCode"in r?r.keyCode:void 0,60:"pageX"in r?r.pageX:void 0,61:"pageY"in r?r.pageY:void 0,65:"offsetX"in r?r.offsetX:void 0,66:"offsetY"in r?r.offsetY:void 0,62:"touches"in r?x(r.touches):void 0,63:"changedTouches"in r?x(r.changedTouches):void 0}})}};return{execute:function(r,i,u){var c=r[i+2],f=i+4+2*c;if(c=i+4+6*r[i+3]+2*c,a&&u&&(u=n.getNode(r[i+1])))for(var l=i+4;l<c;){var h=l<=f;i=u;var p=h,d=r,m=l,v=t.get(d[m]),b=d[m+1];if(i!==n.baseElement){var w=null!==i.oninput,x="change"===v;p?(x&&(w=!0,i.onchange=null),i.addEventListener(v,o[b]=s(i._index_,!!d[m+5]))):(x&&(w=!1),i.removeEventListener(v,o[b])),i&&"value"in i&&(w||g(e,i),y(e,i))}else p?addEventListener(v,o[b]=s(1,!!d[m+5])):removeEventListener(v,o[b]);l+=h?2:6}return c}}},S=function(t,n,e,r,i){var o=i.executorsAllowed.includes(5);return{execute:function(t,r,i){return o&&i&&(t=n.getNode(t[r+1]))&&(i=t.getBoundingClientRect(),e.messageToWorker({12:6,13:[t._index_],38:[i.top,i.right,i.bottom,i.left,i.width,i.height]})),r+2}}},O=function(t,n,e,r,i){var o=n.getNode,a=i.executorsAllowed.includes(2);return{execute:function(t,n,r){var i=t[n+4],u=t[n+5];if(a&&r){var s=o(t[n+1]);s&&(0<u&&t.slice(n+6+i,n+6+i+u).forEach((function(t){(t=o(t))&&t.remove()})),0<i&&t.slice(n+6,n+6+i).forEach((function(r){var i=t[n+2];(r=o(r))&&(s.insertBefore(r,i&&o(i)||null),g(e,r),y(e,r))})))}return n+6+i+u}}},j=function(t,n,e,r,i){var o=i.executorsAllowed.includes(0);return{execute:function(e,r,a){if(o&&a){a=n.getNode(e[r+1]);var u=t.get(e[r+2]);e=0!==(e=e[r+4])?t.get(e-1):null,a&&null!=u&&(i.sanitizer?i.sanitizer.setAttribute(a,u,e):null==e?a.removeAttribute(u):a.setAttribute(u,e))}return r+5}}},A=function(t,n,e,r,i){var o=i.executorsAllowed.includes(1);return{execute:function(e,r,i){return o&&i&&(i=n.getNode(e[r+1]),e=e[r+2],i&&e&&(i.textContent=t.get(e))),r+3}}},E=function(t,n,e,r,i){var o=i.executorsAllowed.includes(3);return{execute:function(e,r,a){if(o&&a){a=n.getNode(e[r+1]);var u=t.get(e[r+2]),s=e[r+4];e=1===e[r+3]?1===s:0!==s?t.get(s):null,a&&u&&null!=e&&(i.sanitizer?i.sanitizer.setProperty(a,u,String(e)):a[u]=e)}return r+5}}},R=function(t,n,e,r,o){var a,u=o.executorsAllowed.includes(6),s=0;return{execute:function(t,n,e){if(u&&e&&o.longTask)if(6===t[n]){if(s++,!a){var r=new Promise((function(t){return a=t}));i().then((function(){return o.longTask&&o.longTask(r)}))}}else 7===t[n]&&(s--,a&&0>=s&&(a(),a=null,s=0));return n+2},get active(){return null!==a}}},T=new Float32Array(1),z=new Uint16Array(T.buffer);function M(t,n,e,r,i,o){for(var a=[],u=0;u<e;u++)switch(t[n++]){case 1:a.push(t[n++]);break;case 2:z[0]=t[n++],z[1]=t[n++],a.push(T[0]);break;case 3:a.push(r.get(t[n++]));break;case 4:var s=t[n++];n=M(t,n,s,r,i,o),a.push(n.args),n=n.offset;break;case 5:if(!o)throw Error("objectContext not provided.");a.push(o.get(t[n++]));break;case 6:s=i.getNode(t[n++]),a.push(s.getContext("2d"));break;case 7:a.push(i.getNode(t[n++]));break;default:throw Error("Cannot deserialize argument.")}return{args:a,offset:n}}var D=function(t,n,e,r,i){var o=i.executorsAllowed.includes(9);return{execute:function(e,i,a){var u,s=t.get(e[i+1]),c=e[i+2],f=M(e,i+3,1,t,n,r),l=f.offset;i=f.args[0];var p=M(e,l,c,t,n,r),d=p.offset,m=p.args;return o&&a&&(_(i,s)?i[s]=m[0]:(u=i)[s].apply(u,h(m))),d}}};function _(t,n){if(!t)throw Error("Property ".concat(n," does not exist on ").concat(t,"."));var e=Object.getOwnPropertyDescriptor(t,n);return void 0!==e?"set"in e:_(Object.getPrototypeOf(t),n)}var L=function(t,n,e,r,i){var o=i.executorsAllowed.includes(10);if(!r)throw Error("objectContext is not defined.");return{execute:function(e,i,a){var u,s=t.get(e[i+1]),c=e[i+2],f=e[i+3],l=M(e,i+4,1,t,n,r),p=l.offset;i=l.args[0];var d=M(e,p,f,t,n,r),m=d.offset,v=d.args;return o&&a&&"new"!==s&&r.store(c,(u=i)[s].apply(u,h(v))),m}}},C=function(t,n,e,r,i){var o=i.executorsAllowed.includes(11);return{execute:function(t,r,i){return o&&i&&(i=n.getNode(t[r+1]))&&self.createImageBitmap(i).then((function(n){e.messageToWorker({12:10,73:t[r+2],38:n},[n])})),r+3}}},F=function(t,n,e,r,i){var o=i.executorsAllowed.includes(12);return{execute:function(n,r,a){if(o&&a){a=n[r+1];var u=n[r+2],s=n[r+3],c=n[r+4];if(n=0<=s?t.get(s):"",s=0<=c?t.get(c):null,1===a)l=u,h=n,i.sanitizer&&2===l&&i.sanitizer.getStorage(l,h).then((function(t){e.messageToWorker({12:11,74:h,75:l,21:t})}));else if(2===a)if(a=u,u=n,n=s,i.sanitizer)i.sanitizer.setStorage(a,u,n);else{var f;if(0===a?f=window.localStorage:1===a&&(f=window.sessionStorage),f)if(null==u){if(null!=n)throw Error("Unexpected storage operation.");f.clear()}else null==n?f.removeItem(u):f.setItem(u,n)}}var l,h;return r+5}}},I=0,N={},U=function(t,n,e,r,i){var o=i.executorsAllowed.includes(13);return{execute:function(n,e){if(o){var r=n[e+1],i=n[e+2];n=n[e+3],n=t.hasIndex(n)?JSON.parse(t.get(n)):void 0,1===r?N[i].resolve(n):N[i].reject(n),delete N[i]}return e+4}}},P=function(t,n,e,r,i){var o=i.executorsAllowed.includes(14);return{execute:function(t,e,r){return o&&r&&(t=n.getNode(t[e+1]))&&t.scrollIntoView(),e+2}}},B=function(){function t(t,n,e,r,i){var o=this;this.nodeContext=this.stringContext=void 0,this.mutationQueue=[],this.pendingMutations=!1,this.executors=this.sanitizer=this.mutationPumpFunction=void 0,this.syncFlush=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=[];return o.mutationQueue.forEach((function(e){for(var r=e.length,i=0;i<r;){var a,u=e[i];if(!(a=t)){t:switch(u){case 4:case 5:case 6:case 7:case 12:case 8:case 13:a=!1;break t;default:a=!0}a=!a}a||n.push(u),i=o.executors[u].execute(e,i,a)}})),o.mutationQueue=[],o.pendingMutations=!1,n},this.stringContext=t,this.nodeContext=n,this.sanitizer=r.sanitizer,this.mutationPumpFunction=r.mutationPump,n=R.apply(null,t=[t,n,e,i,r]),this.executors={2:O.apply(null,t),0:j.apply(null,t),1:A.apply(null,t),3:E.apply(null,t),4:k.apply(null,t),5:S.apply(null,t),6:n,7:n,8:p.apply(null,t),9:D.apply(null,t),10:L.apply(null,t),11:C.apply(null,t),12:F.apply(null,t),13:U.apply(null,t),14:P.apply(null,t)}}return t.prototype.mutate=function(t,n,e,r){this.stringContext.storeValues(e),this.nodeContext.createNodes(n,this.sanitizer),this.mutationQueue=this.mutationQueue.concat(r),this.pendingMutations||(this.pendingMutations=!0,this.mutationPumpFunction(this.syncFlush,t))},t}(),q=function(){function t(){this.strings=[]}var n=t.prototype;return n.get=function(t){return this.strings[t]||""},n.hasIndex=function(t){return void 0!==this.strings[t]},n.store=function(t){this.strings.push(t)},n.storeValues=function(t){var n=this;t.forEach((function(t){return n.store(t)}))},t}(),J=[8,3];function W(t,n,e,r){var i=[].slice.call(t.childNodes).filter(e);return i={7:t._index_,11:0,0:t.nodeType,1:n(t.localName||t.nodeName),4:i.map((function(t){return W(t,n,e,r)})),2:[].map.call(t.attributes||[],(function(t){return[n(t.namespaceURI||"null"),n(t.name),n(t.value)]}))},null!=t.namespaceURI&&(i[6]=n(t.namespaceURI)),J.includes(t.nodeType)&&null!==t.textContent&&(i[5]=n(t.textContent)),g(r,t),y(r,t),i}function G(){return(G=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e,r=arguments[n];for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}var Y=function(){function t(t,n){var e=this;this.readyPromiseResolve=this.iframe=this.readyPromise=this.onmessageerror=this.onmessage=this.onerror=this.url=void 0,this.url=t,this.iframe=window.document.createElement("iframe"),this.iframe.setAttribute("sandbox","allow-scripts"),this.iframe.setAttribute("style","display:none"),this.iframe.setAttribute("src",n),this.url=t,this.readyPromise=new Promise((function(t){e.readyPromiseResolve=t})),this.setupInit(),this.proxyFromWorker(),window.document.body.appendChild(this.iframe)}var n=t.prototype;return n.setupInit=function(){var t=this;window.addEventListener("message",(function n(e){e.source==t.iframe.contentWindow&&fetch(t.url.toString()).then((function(t){return t.text()})).then((function(r){var i=e.data;"iframe-ready"==i.type?t.iframe.contentWindow.postMessage({type:"init-worker",code:r},"*"):"worker-ready"===i.type&&(t.readyPromiseResolve(),window.removeEventListener("message",n))}))}))},n.proxyFromWorker=function(){var t=this;window.addEventListener("message",(function(n){if(n.source==t.iframe.contentWindow){var e=n.data,r=e.type,i=e.message;"onmessage"==r&&t.onmessage?t.onmessage(G({},n,{data:i})):"onerror"===r&&t.onerror?t.onerror(i):"onmessageerror"===r&&t.onmessageerror&&t.onmessageerror(G({},n,{data:i}))}}))},n.postMessage=function(t,n){var e=this,r={type:"postMessage",message:t};this.readyPromise.then((function(){e.iframe.contentWindow.postMessage(r,"*",n)}))},n.terminate=function(){this.iframe.contentWindow.postMessage({type:"terminate"},"*"),this.iframe.remove()},t}(),$=function(){function t(t,n,e,r,i){this[55]=void 0,this.nodeContext=n,this.config=i;var o=function(t,n,e){n=n.hydrateFilter||function(){return!0};var r=[],i=new Map;return{skeleton:W(t,(function(t){if(i.has(t))return i.get(t);var n=r.length;return i.set(t,n),r.push(t),n}),n,e),strings:r}}(t,i,this),a=o.skeleton,u=o.strings;n=[];var s=[],c=H("localStorage"),f=H("sessionStorage");for(var l in t.style)n.push(l);for(var h in t)h.startsWith("on")&&s.push(h);e="'use strict';(function(){".concat(e,"self['window']=self;var workerDOM=WorkerThread.workerDOM;WorkerThread.hydrate(workerDOM.document,").concat(JSON.stringify(u),",").concat(JSON.stringify(a),",").concat(JSON.stringify(n),",").concat(JSON.stringify(s),",[").concat(window.innerWidth,",").concat(window.innerHeight,"],").concat(JSON.stringify(c),",").concat(JSON.stringify(f),");workerDOM.document[59](this);Object.assign(self,workerDOM);}).call(self);").concat(r,"//# sourceURL=").concat(encodeURI(i.authorURL)),this[55]=i.sandbox?new Y(URL.createObjectURL(new Blob([e])),i.sandbox.iframeUrl):new Worker(URL.createObjectURL(new Blob([e]))),i.onCreateWorker&&i.onCreateWorker(t,u,a,n)}var n=t.prototype;return n.ready=function(){return this.worker.readyPromise||i()},n.messageToWorker=function(t,n){this.config.onSendMessage&&this.config.onSendMessage(t),this.worker.postMessage(t,n||[])},l(t,[{key:"worker",get:function(){return this[55]}}]),t}();function H(t,n){try{return n?{storage:n.getStorage("localStorage"==t?0:1),errorMsg:null}:{storage:window[t],errorMsg:null}}catch(t){return{errorMsg:t.message,storage:null}}}var V=function(){function t(){this.objects=void 0,this.objects=new Map}var n=t.prototype;return n.store=function(t,n){this.objects.set(t,n)},n.get=function(t){var n=this.objects.get(t);if(n)return n;throw Error("Object with id ("+t+") does not exist.")},t}(),X=function(){function t(t,n){this.workerContext_=t,this.config=n}var n=t.prototype;return n.callFunction=function(t){if(!this.config.executorsAllowed.includes(13))throw Error("[worker-dom]: Error calling ".concat(t,". You must enable the FUNCTION_CALL executor within the config."));for(var n=function(){var t,n,e=new Promise((function(e,r){t=e,n=r}));I>=Number.MAX_VALUE&&(I=0);var r=I++;return N[r]={promise:e,resolve:t,reject:n},{promise:e,index:r}}(),e=n.promise,r=n.index,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t={12:12,77:t,78:JSON.stringify(o),7:r},this.workerContext_.messageToWorker(t),e},n.terminate=function(){this.workerContext_.worker.terminate()},l(t,[{key:"onerror",set:function(t){this.workerContext_.worker.onerror=t}}]),t}(),K=[3,2],Z=function(t){return null===t.parentNode||(t=(t.parentNode.localName||t.parentNode.nodeName).toLowerCase(),!/amp-/.test(t)||"amp-script"===t)};function Q(t,n){for(var e=[],r=0,i=0;i<t.length;i++){var o=t[i];n(o,i,t)?e.push(o):(r<i&&(t[r]=o),r++)}return r<t.length&&(t.length=r),e}Array.isArray;var tt=Object.prototype;function nt(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function et(t){return 1==(null==t?void 0:t.nodeType)}function rt(t){return et(t)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t}function it(t,n,e,r,i,o,a,u,s,c,f){return t}function ot(t,n){return t}function at(t,n,e,r,i,o,a,u,s,c,f){return function(t,n){var e,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(n)return n;t&&-1==i.indexOf(t)&&(i+=t);for(var o=3,a=i.split("%s"),u=a.shift(),s=[u];a.length;){var c=arguments[o++],f=a.shift();u+=rt(c)+f,s.push(c,f.trim())}var l=new Error(u);throw l.messageArray=Q(s,(function(t){return""!==t})),null===(e=(r=self).__AMP_REPORT_ERROR)||void 0===e||e.call(r,l),l}("​​​",t,n,e,r,i,o,a,u,s,c,f)}function ut(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}function st(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ct(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ft(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ct(Object(e),!0).forEach((function(n){st(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ct(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}tt.hasOwnProperty,tt.toString;var lt=Object.hasOwnProperty,ht=Object.setPrototypeOf,pt=Object.isFrozen,dt=Object.getPrototypeOf,mt=Object.getOwnPropertyDescriptor,vt=Object.freeze,bt=Object.seal,gt=Object.create,yt="undefined"!=typeof Reflect&&Reflect,wt=yt.apply,xt=yt.construct;wt||(wt=function(t,n,e){return t.apply(n,e)}),vt||(vt=function(t){return t}),bt||(bt=function(t){return t}),xt||(xt=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n))))});var kt,St=_t(Array.prototype.forEach),Ot=_t(Array.prototype.pop),jt=_t(Array.prototype.push),At=_t(String.prototype.toLowerCase),Et=_t(String.prototype.match),Rt=_t(String.prototype.replace),Tt=_t(String.prototype.indexOf),zt=_t(String.prototype.trim),Mt=_t(RegExp.prototype.test),Dt=(kt=TypeError,function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return xt(kt,n)});function _t(t){return function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return wt(t,n,r)}}function Lt(t,n){ht&&ht(t,null);for(var e=n.length;e--;){var r=n[e];if("string"==typeof r){var i=At(r);i!==r&&(pt(n)||(n[e]=i),r=i)}t[r]=!0}return t}function Ct(t){var n=gt(null),e=void 0;for(e in t)wt(lt,t,[e])&&(n[e]=t[e]);return n}function Ft(t,n){for(;null!==t;){var e=mt(t,n);if(e){if(e.get)return _t(e.get);if("function"==typeof e.value)return _t(e.value)}t=dt(t)}return function(t){return console.warn("fallback value for",t),null}}var It=vt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nt=vt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ut=vt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pt=vt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=vt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qt=vt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jt=vt(["#text"]),Wt=vt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Gt=vt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yt=vt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$t=vt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ht=bt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Vt=bt(/<%[\s\S]*|[\s\S]*%>/gm),Xt=bt(/^data-[\-\w.\u00B7-\uFFFF]/),Kt=bt(/^aria-[\-\w]+$/),Zt=bt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Qt=bt(/^(?:\w+script|data):/i),tn=bt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nn="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)};function en(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var rn=function(){return"undefined"==typeof window?null:window},on=function(t,n){if("object"!==(void 0===t?"undefined":nn(t))||"function"!=typeof t.createPolicy)return null;var e=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(e=n.currentScript.getAttribute(r));var i="dompurify"+(e?"#"+e:"");try{return t.createPolicy(i,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},an=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn(),e=function(n){return t(n)};if(e.version="2.3.3",e.removed=[],!n||!n.document||9!==n.document.nodeType)return e.isSupported=!1,e;var r=n.document,i=n.document,o=n.DocumentFragment,a=n.HTMLTemplateElement,u=n.Node,s=n.Element,c=n.NodeFilter,f=n.NamedNodeMap,l=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,h=n.Text,p=n.Comment,d=n.DOMParser,m=n.trustedTypes,v=s.prototype,b=Ft(v,"cloneNode"),g=Ft(v,"nextSibling"),y=Ft(v,"childNodes"),w=Ft(v,"parentNode");if("function"==typeof a){var x=i.createElement("template");x.content&&x.content.ownerDocument&&(i=x.content.ownerDocument)}var k=on(m,r),S=k&&nt?k.createHTML(""):"",O=i,j=O.implementation,A=O.createNodeIterator,E=O.createDocumentFragment,R=O.getElementsByTagName,T=r.importNode,z={};try{z=Ct(i).documentMode?i.documentMode:{}}catch(t){}var M={};e.isSupported="function"==typeof w&&j&&void 0!==j.createHTMLDocument&&9!==z;var D=Ht,_=Vt,L=Xt,C=Kt,F=Qt,I=tn,N=Zt,U=null,P=Lt({},[].concat(en(It),en(Nt),en(Ut),en(Bt),en(Jt))),B=null,q=Lt({},[].concat(en(Wt),en(Gt),en(Yt),en($t))),J=null,W=null,G=!0,Y=!0,$=!1,H=!1,V=!1,X=!1,K=!1,Z=!1,Q=!1,tt=!0,nt=!1,et=!0,rt=!0,it=!1,ot={},at=null,ut=Lt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),st=null,ct=Lt({},["audio","video","img","source","image","track"]),ft=null,lt=Lt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ht="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",dt="http://www.w3.org/1999/xhtml",mt=dt,bt=!1,gt=void 0,yt=["application/xhtml+xml","text/html"],wt="text/html",xt=void 0,kt=null,_t=i.createElement("form"),an=function(t){kt&&kt===t||(t&&"object"===(void 0===t?"undefined":nn(t))||(t={}),t=Ct(t),U="ALLOWED_TAGS"in t?Lt({},t.ALLOWED_TAGS):P,B="ALLOWED_ATTR"in t?Lt({},t.ALLOWED_ATTR):q,ft="ADD_URI_SAFE_ATTR"in t?Lt(Ct(lt),t.ADD_URI_SAFE_ATTR):lt,st="ADD_DATA_URI_TAGS"in t?Lt(Ct(ct),t.ADD_DATA_URI_TAGS):ct,at="FORBID_CONTENTS"in t?Lt({},t.FORBID_CONTENTS):ut,J="FORBID_TAGS"in t?Lt({},t.FORBID_TAGS):{},W="FORBID_ATTR"in t?Lt({},t.FORBID_ATTR):{},ot="USE_PROFILES"in t&&t.USE_PROFILES,G=!1!==t.ALLOW_ARIA_ATTR,Y=!1!==t.ALLOW_DATA_ATTR,$=t.ALLOW_UNKNOWN_PROTOCOLS||!1,H=t.SAFE_FOR_TEMPLATES||!1,V=t.WHOLE_DOCUMENT||!1,Z=t.RETURN_DOM||!1,Q=t.RETURN_DOM_FRAGMENT||!1,tt=!1!==t.RETURN_DOM_IMPORT,nt=t.RETURN_TRUSTED_TYPE||!1,K=t.FORCE_BODY||!1,et=!1!==t.SANITIZE_DOM,rt=!1!==t.KEEP_CONTENT,it=t.IN_PLACE||!1,N=t.ALLOWED_URI_REGEXP||N,mt=t.NAMESPACE||dt,gt=gt=-1===yt.indexOf(t.PARSER_MEDIA_TYPE)?wt:t.PARSER_MEDIA_TYPE,xt="application/xhtml+xml"===gt?function(t){return t}:At,H&&(Y=!1),Q&&(Z=!0),ot&&(U=Lt({},[].concat(en(Jt))),B=[],!0===ot.html&&(Lt(U,It),Lt(B,Wt)),!0===ot.svg&&(Lt(U,Nt),Lt(B,Gt),Lt(B,$t)),!0===ot.svgFilters&&(Lt(U,Ut),Lt(B,Gt),Lt(B,$t)),!0===ot.mathMl&&(Lt(U,Bt),Lt(B,Yt),Lt(B,$t))),t.ADD_TAGS&&(U===P&&(U=Ct(U)),Lt(U,t.ADD_TAGS)),t.ADD_ATTR&&(B===q&&(B=Ct(B)),Lt(B,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&Lt(ft,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(at===ut&&(at=Ct(at)),Lt(at,t.FORBID_CONTENTS)),rt&&(U["#text"]=!0),V&&Lt(U,["html","head","body"]),U.table&&(Lt(U,["tbody"]),delete J.tbody),vt&&vt(t),kt=t)},un=Lt({},["mi","mo","mn","ms","mtext"]),sn=Lt({},["foreignobject","desc","title","annotation-xml"]),cn=Lt({},Nt);Lt(cn,Ut),Lt(cn,Pt);var fn=Lt({},Bt);Lt(fn,qt);var ln=function(t){var n=w(t);n&&n.tagName||(n={namespaceURI:dt,tagName:"template"});var e=At(t.tagName),r=At(n.tagName);if(t.namespaceURI===pt)return n.namespaceURI===dt?"svg"===e:n.namespaceURI===ht?"svg"===e&&("annotation-xml"===r||un[r]):Boolean(cn[e]);if(t.namespaceURI===ht)return n.namespaceURI===dt?"math"===e:n.namespaceURI===pt?"math"===e&&sn[r]:Boolean(fn[e]);if(t.namespaceURI===dt){if(n.namespaceURI===pt&&!sn[r])return!1;if(n.namespaceURI===ht&&!un[r])return!1;var i=Lt({},["title","style","font","a","script"]);return!fn[e]&&(i[e]||!cn[e])}return!1},hn=function(t){jt(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(n){try{t.outerHTML=S}catch(n){t.remove()}}},pn=function(t,n){try{jt(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(t){jt(e.removed,{attribute:null,from:n})}if(n.removeAttribute(t),"is"===t&&!B[t])if(Z||Q)try{hn(n)}catch(t){}else try{n.setAttribute(t,"")}catch(t){}},dn=function(t){var n=void 0,e=void 0;if(K)t="<remove></remove>"+t;else{var r=Et(t,/^[\r\n\t ]+/);e=r&&r[0]}"application/xhtml+xml"===gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=k?k.createHTML(t):t;if(mt===dt)try{n=(new d).parseFromString(o,gt)}catch(t){}if(!n||!n.documentElement){n=j.createDocument(mt,"template",null);try{n.documentElement.innerHTML=bt?"":o}catch(t){}}var a=n.body||n.documentElement;return t&&e&&a.insertBefore(i.createTextNode(e),a.childNodes[0]||null),mt===dt?R.call(n,V?"html":"body")[0]:V?n.documentElement:a},mn=function(t){return A.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},vn=function(t){return!(t instanceof h||t instanceof p||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof l&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},bn=function(t){return"object"===(void 0===u?"undefined":nn(u))?t instanceof u:t&&"object"===(void 0===t?"undefined":nn(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},gn=function(t,n,r){M[t]&&St(M[t],(function(t){t.call(e,n,r,kt)}))},yn=function(t){var n=void 0;if(gn("beforeSanitizeElements",t,null),vn(t))return hn(t),!0;if(Et(t.nodeName,/[\u0080-\uFFFF]/))return hn(t),!0;var r=xt(t.nodeName);if(gn("uponSanitizeElement",t,{tagName:r,allowedTags:U}),!bn(t.firstElementChild)&&(!bn(t.content)||!bn(t.content.firstElementChild))&&Mt(/<[/\w]/g,t.innerHTML)&&Mt(/<[/\w]/g,t.textContent))return hn(t),!0;if("select"===r&&Mt(/<template/i,t.innerHTML))return hn(t),!0;if(!U[r]||J[r]){if(rt&&!at[r]){var i=w(t)||t.parentNode,o=y(t)||t.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(b(o[a],!0),g(t))}return hn(t),!0}return t instanceof s&&!ln(t)?(hn(t),!0):"noscript"!==r&&"noembed"!==r||!Mt(/<\/no(script|embed)/i,t.innerHTML)?(H&&3===t.nodeType&&(n=t.textContent,n=Rt(n,D," "),n=Rt(n,_," "),t.textContent!==n&&(jt(e.removed,{element:t.cloneNode()}),t.textContent=n)),gn("afterSanitizeElements",t,null),!1):(hn(t),!0)},wn=function(t,n,e){if(et&&("id"===n||"name"===n)&&(e in i||e in _t))return!1;if(Y&&!W[n]&&Mt(L,n));else if(G&&Mt(C,n));else{if(!B[n]||W[n])return!1;if(ft[n]);else if(Mt(N,Rt(e,I,"")));else if("src"!==n&&"xlink:href"!==n&&"href"!==n||"script"===t||0!==Tt(e,"data:")||!st[t])if($&&!Mt(F,Rt(e,I,"")));else if(e)return!1}return!0},xn=function(t){var n=void 0,r=void 0,i=void 0,o=void 0;gn("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(o=a.length;o--;){var s=n=a[o],c=s.name,f=s.namespaceURI;if(r=zt(n.value),i=xt(c),u.attrName=i,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,gn("uponSanitizeAttribute",t,u),r=u.attrValue,!u.forceKeepAttr&&(pn(c,t),u.keepAttr))if(Mt(/\/>/i,r))pn(c,t);else{H&&(r=Rt(r,D," "),r=Rt(r,_," "));var l=xt(t.nodeName);if(wn(l,i,r))try{f?t.setAttributeNS(f,c,r):t.setAttribute(c,r),Ot(e.removed)}catch(t){}}}gn("afterSanitizeAttributes",t,null)}},kn=function t(n){var e=void 0,r=mn(n);for(gn("beforeSanitizeShadowDOM",n,null);e=r.nextNode();)gn("uponSanitizeShadowNode",e,null),yn(e)||(e.content instanceof o&&t(e.content),xn(e));gn("afterSanitizeShadowDOM",n,null)};return e.sanitize=function(t,i){var a=void 0,s=void 0,c=void 0,f=void 0,l=void 0;if((bt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!bn(t)){if("function"!=typeof t.toString)throw Dt("toString is not a function");if("string"!=typeof(t=t.toString()))throw Dt("dirty is not a string, aborting")}if(!e.isSupported){if("object"===nn(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(bn(t))return n.toStaticHTML(t.outerHTML)}return t}if(X||an(i),e.removed=[],"string"==typeof t&&(it=!1),it);else if(t instanceof u)1===(s=(a=dn("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!Z&&!H&&!V&&-1===t.indexOf("<"))return k&&nt?k.createHTML(t):t;if(!(a=dn(t)))return Z?null:S}a&&K&&hn(a.firstChild);for(var h=mn(it?t:a);c=h.nextNode();)3===c.nodeType&&c===f||yn(c)||(c.content instanceof o&&kn(c.content),xn(c),f=c);if(f=null,it)return t;if(Z){if(Q)for(l=E.call(a.ownerDocument);a.firstChild;)l.appendChild(a.firstChild);else l=a;return tt&&(l=T.call(r,l,!0)),l}var p=V?a.outerHTML:a.innerHTML;return H&&(p=Rt(p,D," "),p=Rt(p,_," ")),k&&nt?k.createHTML(p):p},e.setConfig=function(t){an(t),X=!0},e.clearConfig=function(){kt=null,X=!1},e.isValidAttribute=function(t,n,e){kt||an({});var r=xt(t),i=xt(n);return wn(r,i,e)},e.addHook=function(t,n){"function"==typeof n&&(M[t]=M[t]||[],jt(M[t],n))},e.removeHook=function(t){M[t]&&Ot(M[t])},e.removeHooks=function(t){M[t]&&(M[t]=[])},e.removeAllHooks=function(){M={}},e}(),un=an;function sn(t){return function(t,n){var e=n.documentElement;return["⚡4email","amp4email"].some((function(t){return e.hasAttribute(t)}))}(0,t)}var cn=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function fn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function ln(t){var n,e=nt();if(!t)return e;for(;n=cn.exec(t);){var r=fn(n[1],n[1]),i=n[2]?fn(n[2].replace(/\+/g," "),n[2]):"";e[r]=i}return e}function hn(t){var n=(t||self).location;return ln(n.originalHash||n.hash)}var pn="";function dn(t){var n;return pn||(pn=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"01".concat("2303151529000")),pn}function mn(t,n){var e=n||hn(t);return["1","actions","amp","amp4ads","amp4email"].includes(e.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var vn=self.__AMP_LOG;function bn(t,n){throw new Error("failed to call initLogConstructor")}function gn(t){return vn.user||(vn.user=yn()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(vn.user.win,t)?vn.userForEmbed||(vn.userForEmbed=yn()):vn.user}function yn(t){return bn()}function wn(){return vn.dev||(vn.dev=bn())}function xn(t,n,e,r,i,o,a,u,s,c,f){return t}function kn(t,n,e,r,i,o,a,u,s,c,f){return gn().assert(t,n,e,r,i,o,a,u,s,c,f)}var Sn=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g,On=function(){function t(t){at(t.length>0,"Srcset must have at least one source"),this.AA=t;for(var n=!1,e=!1,r=0;r<t.length;r++){var i=t[r];n=n||!!i.width,e=e||!!i.dpr}at(!(n===e),"Srcset must have width or dpr sources, but not both"),t.sort(n?jn:An),this.tz=n}var n=t.prototype;return n.select=function(t,n){var e;return it(t),it(n),e=this.tz?this.rz(t*n):this.iz(n),this.AA[e].url},n.rz=function(t){for(var n=this.AA,e=0,r=1/0,i=1/0,o=0;o<n.length;o++){var a,u=null!==(a=n[o].width)&&void 0!==a?a:0,s=Math.abs(u-t);if(!(s<=1.1*r||t/i>1.2))break;e=o,r=s,i=u}return e},n.iz=function(t){for(var n=this.AA,e=0,r=1/0,i=0;i<n.length;i++){var o=Math.abs(n[i].dpr-t);if(!(o<=r))break;e=i,r=o}return e},n.getUrls=function(){return this.AA.map((function(t){return t.url}))},n.stringify=function(t){for(var n=[],e=this.AA,r=0;r<e.length;r++){var i=e[r],o=i.url;t&&(o=t(o)),this.tz?o+=" ".concat(i.width,"w"):o+=" ".concat(i.dpr,"x"),n.push(o)}return n.join(", ")},t}();function jn(t,n){return at(t.width!=n.width,"Duplicate width: %s",t.width),t.width-n.width}function An(t,n){return at(t.dpr!=n.dpr,"Duplicate dpr: %s",t.dpr),t.dpr-n.dpr}var En=function(){function t(t){this.Lt=t,this.Ht=0,this.Ft=0,this.Gt=nt()}var n=t.prototype;return n.has=function(t){return!!this.Gt[t]},n.get=function(t){var n=this.Gt[t];if(n)return n.access=++this.Ft,n.payload},n.put=function(t,n){this.has(t)||this.Ht++,this.Gt[t]={payload:n,access:this.Ft},this.zt()},n.zt=function(){if(!(this.Ht<=this.Lt)){var t,n=this.Gt,e=this.Ft+1;for(var r in n){var i=n[r].access;i<e&&(e=i,t=r)}void 0!==t&&(delete n[t],this.Ht--)}},t}(),Rn=function(){return self.AMP.config.urls}();function Tn(t,n){return Cn(t=Dn(t),n)}function zn(t,n){var e=Ln(_n(t));return Nn(e,n)?Cn(e,n):null}function Mn(t,n){return Fn(Ln(t),n)}function Dn(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function _n(t){return t.nodeType?(e=t,n=(e.ownerDocument||e).defaultView,Tn(n,"ampdoc")).getAmpDoc(t):t;var n,e}function Ln(t){var n=_n(t);return n.isSingleDoc()?n.win:n}function Cn(t,n){xn(Nn(t,n));var e=In(t)[n];return e.obj||(xn(e.ctor),xn(e.context),e.obj=new e.ctor(e.context),xn(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function Fn(t,n){var e=In(t)[n];return e?e.promise?e.promise:(Cn(t,n),e.promise=Promise.resolve(e.obj)):null}function In(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function Nn(t,n){var e=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!e||!e.ctor)}function Un(t,n,e,r){var i=Mn(t,n);if(i)return i;var a=_n(t);return a.whenExtensionsKnown().then((function(){var t=a.getExtensionVersion(e);return t?Tn(a.win,"extensions").waitForExtension(e,t):null})).then((function(e){return e?r?Mn(t,n):function(t,n){return function(t,n){var e=Fn(t,n);if(e)return e;var r,i,a,u,s=In(t);return s[n]=(i=(r=new o).promise,a=r.reject,u=r.resolve,i.catch((function(){})),{obj:null,promise:i,resolve:u,reject:a,context:null,ctor:null}),s[n].promise}(Ln(t),n)}(t,n):null}))}var Pn,Bn,qn=function(t){return function(t,n,e){var r=zn(t,n);return r?Promise.resolve(r):Un(t,n,"amp-bind")}(t,"bind")},Jn=function(t){return Tn(t,"xhr")},Wn=function(){return self.AMP.config.urls}(),Gn=new Set(["c","v","a","ad"]),Yn=function(t){return"string"==typeof t?$n(t):t};function $n(t,n){return Pn||(Pn=self.document.createElement("a"),Bn=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new En(100))),function(t,n,e){if(e&&e.has(n))return e.get(n);t.href=n,t.protocol||(t.href=t.href);var r,i={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname),("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)&&(i.port="",i.host=i.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href,i.origin=r;var o=i;return e&&e.put(n,o),o}(Pn,t,n?null:Bn)}function Hn(t){return Wn.cdnProxyRegex.test(Yn(t).origin)}function Vn(t,n){return n=Yn(n),"function"==typeof URL?new URL(t,n.href).toString():function(t,n){n=Yn(n);var e=$n(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(e.protocol)?e.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(t,n)}var Xn=function(){return self.AMP.config.urls}();function Kn(t,n,e){return Zn(n)?function(t,n,e,r){var i;kn(!("__amp_source_origin"in ln($n(i=e).search)),"Source origin is not allowed in %s",i);var o=Hn(r),a=$n(function(t){if(!Hn(t=Yn(t)))return t.href;var n=t.pathname.split("/"),e=n[1];kn(Gn.has(e),"Unknown path prefix in url %s",t.href);var r=n[2],i="s"==r?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(r);return kn(i.indexOf(".")>0,"Expected a . in origin %s",i),n.splice(1,"s"==r?3:2),i+n.join("/")+function(t,n){if(!t||"?"==t)return"";var e=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),r=t.replace(e,"").replace(/^[?&]/,"");return r?"?"+r:""}(t.search)+(t.hash||"")}(r));if("href"==n&&!e.startsWith("#"))return Vn(e,a);if("src"==n)return"amp-img"==t?Qn(e,a,o):Vn(e,a);if("srcset"==n){var u;try{u=function(t){for(var n,e=[];n=Sn.exec(t);){var r=n[1],i=void 0,o=void 0;if(n[2]){var a=n[3].toLowerCase();if("w"==a)i=parseInt(n[2],10);else{if("x"!=a)continue;o=parseFloat(n[2])}}else o=1;e.push({url:r,width:i,dpr:o})}return new On(e)}(e)}catch(t){return gn().error("URL-REWRITE","Failed to parse srcset: ",t),e}return u.stringify((function(t){return Qn(t,a,o)}))}return e}(t,n,e,self.location):e}function Zn(t){return"src"==t||"href"==t||"xlink:href"==t||"srcset"==t}function Qn(t,n,e){var r=$n(Vn(t,n));return"data:"==r.protocol||Hn(r)||!e?r.href:"".concat(Xn.cdn,"/i/")+("https:"==r.protocol?"s/":"")+encodeURIComponent(r.host)+r.pathname+(r.search||"")+(r.hash||"")}var te="data-amp-bind-",ne="i-amphtml-key",ee={"AMP-IMG":["src","srcset","layout","width","height"]},re={"applet":!0,"audio":!0,"base":!0,"embed":!0,"frame":!0,"frameset":!0,"iframe":!0,"img":!0,"link":!0,"meta":!0,"object":!0,"style":!0,"video":!0},ie={"amp-accordion":!0,"amp-anim":!0,"amp-bind-macro":!0,"amp-carousel":!0,"amp-fit-text":!0,"amp-img":!0,"amp-layout":!0,"amp-selector":!0,"amp-sidebar":!0,"amp-timeago":!0},oe=["a","amp-img","article","aside","b","blockquote","br","caption","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","header","hr","i","ins","li","main","mark","nav","ol","p","pre","q","s","section","small","span","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","u","ul"],ae=["a","article","aside","b","blockquote","br","caption","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","header","hr","i","ins","li","main","mark","nav","ol","p","pre","q","s","section","small","span","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","u","ul"],ue=["amp-fx","fallback","heights","layout","min-font-size","max-font-size","on","option","placeholder","submitting","submit-success","submit-error","validation-for","verify-error","visible-when-invalid","href","style","text","subscriptions-action","subscriptions-actions","subscriptions-decorate","subscriptions-dialog","subscriptions-display","subscriptions-section","subscriptions-service","subscriptions-google-rtc","amp-nested-submenu","amp-nested-submenu-open","amp-nested-submenu-close","itemprop"],se={"a":["rel","target"],"div":["template"],"form":["action-xhr","verify-xhr","custom-validation-reporting","target"],"input":["mask-output"],"template":["type"],"textarea":["autoexpand"]},ce=["_top","_blank"],fe=/^(?:\w+script|data|blob):/i,le=/^(?:blob):/i,he=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pe=Object.freeze({"input":{"type":/(?:image|button)/i}}),de=Object.freeze({"input":{"type":/(?:button|file|image|password)/i}}),me=Object.freeze(["form","formaction","formmethod","formtarget","formnovalidate","formenctype"]),ve=Object.freeze({"input":me,"textarea":me,"select":me}),be=Object.freeze({"amp-anim":["controls"],"form":["name"]}),ge=/!important|position\s*:\s*fixed|position\s*:\s*sticky/i;function ye(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e?e.replace(he,""):"";if(!i){if(n.startsWith("on")&&"on"!=n)return!1;var a=o.toLowerCase();if(a.indexOf("<script")>=0||a.indexOf("</script")>=0)return!1;if(fe.test(o))return!1}if(le.test(o))return!1;if("style"==n)return!ge.test(e);if("class"==n&&e&&/(^|\W)i-amphtml-/i.test(e))return!1;if(Zn(n)&&/__amp_source_origin/.test(e))return!1;var u=sn(r),s=Object.assign(nt(),ve,u?be:{})[t];if(s&&-1!=s.indexOf(n))return!1;var c=Object.assign(nt(),pe,u?de:{})[t];if(c){var f=c[n];if(f&&-1!=e.search(f))return!1}return!0}var we="purifier",xe={"script":{"attribute":"type","values":["application/json","application/ld+json"]}},ke={USE_PROFILES:{html:!0,svg:!0,svgFilters:!0}},Se=function(){function t(t,n,e){this.ii=t,this.oz=1,this.uz=un(self),this.fz=un(self);var r=Object.assign(n||{},ft(ft({},ke),{},{ADD_ATTR:ue,ADD_TAGS:["use"],FORBID_TAGS:Object.keys(re),FORCE_BODY:!0,RETURN_DOM:!0,ALLOW_UNKNOWN_PROTOCOLS:!0}));this.uz.setConfig(r),this.cz(this.uz,e),this.lz(this.fz)}var n=t.prototype;return n.purifyHtml=function(t){return this.uz.sanitize(t)},n.purifyTagsForTripleMustache=function(t){var n=this.fz.sanitize(t,{"ALLOWED_TAGS":sn(this.ii)?ae:oe,"FORCE_BODY":!0,"RETURN_DOM_FRAGMENT":!0}),e=this.ii.createElement("div");return e.appendChild(n),e.innerHTML},n.getAllowedTags=function(){var t={};this.uz.addHook("uponSanitizeElement",(function(n,e){Object.assign(t,e.allowedTags)}));var n=this.ii.createElement("p");return this.uz.sanitize(n),Object.keys(re).forEach((function(n){t[n]=!1})),this.uz.removeHook("uponSanitizeElement"),t},n.validateAttributeChange=function(t,n,e){var r=t.nodeName.toLowerCase(),i=xe[r];if(i){var o=i.attribute,a=i.values;if(o===n&&(null==e||!a.includes(e)))return!1}if("a"===r&&"target"===n&&(null==e||!ce.includes(e)))return!1;if(null==e)return!0;if(je(n)!==Oe.NONE)return!1;if(!this.uz.isValidAttribute(r,n,e)){var u=se[r];if(!(u&&u.includes(n)||r.startsWith("amp-")))return!1}var s=t.ownerDocument?t.ownerDocument:t;return!(e&&!ye(r,n,e,s,!0))},n.cz=function(t,n){var e,r,i=this,o=sn(this.ii),a=[],u=[];t.addHook("uponSanitizeElement",(function(t,n){var r=n.tagName;if(e=n.allowedTags,r.startsWith("amp-")&&(e[r]=!o||ie[r]),"a"===r){var i=ot(t);i.hasAttribute("href")&&!i.hasAttribute("target")&&i.setAttribute("target","_top")}var u=xe[r];if(u){var s=u.attribute,c=u.values,f=ot(t);f.hasAttribute(s)&&c.includes(f.getAttribute(s))&&(e[r]=!0,a.push(r))}})),t.addHook("afterSanitizeElements",(function(t){a.forEach((function(t){delete e[t]})),a.length=0})),t.addHook("uponSanitizeAttribute",(function(t,e){var o=t.nodeName.toLowerCase(),a=e.attrName,s=e.attrValue;r=e.allowedAttributes;var c=function(){r[a]||(r[a]=!0,u.push(a))};if(o.startsWith("amp-"))c();else{if("a"==o&&"target"==a){var f=s.toLowerCase();s=ce.includes(f)?f:"_top"}var l=se[o];l&&l.includes(a)&&c()}var h=je(a);if(h===Oe.CLASSIC){var p=a.substring(1,a.length-1);t.setAttribute("".concat(te).concat(p),s)}h!==Oe.NONE&&t.setAttribute("i-amphtml-binding",""),ye(o,a,s,i.ii,!0)?n&&s&&!a.startsWith(te)&&(s=n(o,a,s)):(e.keepAttr=!1,gn().error(we,'Removed invalid attribute %s[%s="%s"].',o,a,s)),e.attrValue=s})),t.addHook("afterSanitizeAttributes",(function(t){!function(t,n){var e=t.tagName.startsWith("AMP-"),r=t.hasAttribute("i-amphtml-binding");!r&&ee[t.tagName]?t.setAttribute("i-amphtml-ignore",""):(r||e)&&(t.hasAttribute(ne)||t.setAttribute(ne,String(i.oz++)))}(t),u.forEach((function(t){delete r[t]})),u.length=0,"use"===t.nodeName.toLowerCase()&&["href","xlink:href"].forEach((function(n){t.hasAttribute(n)&&!t.getAttribute(n).startsWith("#")&&(function(t){var n;null===(n=t.parentElement)||void 0===n||n.removeChild(t)}(t),gn().error(we,'Removed invalid <use>. use[href] must start with "#".'))}))}))},n.lz=function(t){var n;t.addHook("uponSanitizeElement",(function(t,e){var r=e.tagName;if(n=e.allowedTags,"template"===r){var i=t.getAttribute("type");i&&"amp-mustache"===i.toLowerCase()&&(n.template=!0)}})),t.addHook("afterSanitizeElements",(function(t){n.template=!1}))},t}(),Oe={NONE:0,CLASSIC:1,ALTERNATIVE:2};function je(t){return"["==t[0]&&"]"==t[t.length-1]?Oe.CLASSIC:t.startsWith(te)?Oe.ALTERNATIVE:Oe.NONE}var Ae=["change","click","dblclick","input","keypress","submit","keydown"],Ee=function(){function t(t){var n=this;this.Sh=t,this.tW=this.nW.bind(this),this.eW=0,this.rW=!1,Ae.forEach((function(t){n.Sh.addEventListener(t,n.tW,!0)}))}var n=t.prototype;return n.dispose=function(){var t=this;Ae.forEach((function(n){t.Sh.removeEventListener(n,t.tW,!0)}))},n.hasBeenActive=function(){return this.eW>0},n.isActive=function(){return this.eW>0&&Date.now()-this.eW<=5e3||this.rW},n.getLastActivationTime=function(){return this.eW},n.expandLongTask=function(t){var n=this;if(this.isActive()){xn(!this.rW),this.rW=!0;var e=function(){n.rW=!1,n.eW=Date.now()};t.then(e,e)}},n.isInLongTask=function(){return this.rW},n.nW=function(t){t.isTrusted&&(this.eW=Date.now())},t}(),Re=self.__AMP_ERRORS||[];self.__AMP_ERRORS=Re;var Te=function(){return self.AMP.config.urls}(),ze="amp-script",Me=15e4,De=3e5,_e=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(s,t);var n,r,i=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(r){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function s(t){var n;return(n=i.call(this,t)).cc=Tn(n.win,"vsync"),n.iW=null,n.oW=null,n.aW=null,n.uW="amp-script[unknown].js",n.sW=!1,n.cW=!1,n.lh=new o,n.fW=!1,n.lW=!1,n.hW=!1,n}var f=s.prototype;return f.isLayoutSupported=function(t){return"container"==t||ut(t)},f.buildCallback=function(){var t,n,e,r=this;return this.hW=this.element.hasAttribute("sandboxed"),this.lW=this.hW||this.element.hasAttribute("nodom"),this.fW=this.element.hasAttribute("data-ampdevmode")||this.element.ownerDocument.documentElement.hasAttribute("data-ampdevmode"),this.fW&&gn().warn(ze,"JavaScript size and script hash requirements are disabled in development mode.",this.element),this.lW&&(this.element.hasAttribute("width")||this.element.hasAttribute("height")||this.element.hasAttribute("layout"))&&gn().warn(ze,"Cannot set width, height, or layout of a nodom <amp-script>",this.element),(t=this.element,n=ze,e=ze,Un(t,n,e,undefined).then((function(t){return function(t,n,e){return kn(t,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","amp-script",e,e,e)}(t,0,e)}))).then((function(t){r.setService(t)}))},f.onLayoutMeasure=function(){if(!this.sW&&!this.cW){var t=this.getLayoutSize(),n=t.height;t.width*n!=0||this.lW||(this.cW=!0,gn().warn(ze,"Skipped initializing amp-script due to zero width or height.",this.element))}},f.setService=function(t){this.aW=t},f.getUserActivation=function(){return this.oW},f.callFunction=function(t,n){var e=arguments,r=this;return this.lh.promise.then((function(){return r.iW?r.iW.callFunction.apply(r.iW,e):Promise.reject(new Error("Attempted to call a function on an amp-script which failed initialization."))}))},f.layoutCallback=function(){var t,n,r=this;if(this.sW=!0,this.element.sizerElement){(n=t=this.win.document.createElement("div")).classList.add("i-amphtml-fill-content"),n.classList.add("i-amphtml-replaced-content");for(var i=function(t){return function(t,n){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)void 0,a=void 0,"string"==typeof(o=i=r)?a=o:et(o)&&(a=o.tagName),!(a&&a.toLowerCase().startsWith("i-")||i.nodeType===Node.ELEMENT_NODE&&(ot(i),i.hasAttribute("placeholder")||i.hasAttribute("fallback")||i.hasAttribute("overflow")))&&e.push(r);var i,o,a;return e}(t)}(this.element),o=0;o<i.length;o++)t.appendChild(i[o]);this.element.appendChild(t)}this.oW=new Ee(this.element),this.uW=this.element.hasAttribute("src")?'amp-script[src="'.concat(this.element.getAttribute("src"),'"].js'):'amp-script[script="'.concat(this.element.getAttribute("script"),'"].js');var a=this.pW(this.uW);if(!a)return gn().error(ze,'"src" or "script" attribute is required.'),Promise.reject(new Error("CANCELLED"));var u,s=Promise.all([this.dW(),a]).then((function(t){var n=t[0],e=t[1];return!r.fW&&r.aW.sizeLimitExceeded(e.length,r.hW)?(gn().error(ze,"Maximum total script size exceeded (%s). %s is disabled. See https://amp.dev/documentation/components/amp-script/#size-of-javascript-code.",r.hW?De:Me,r.uW),r.element.classList.add("i-amphtml-broken"),[]):[n,e]})),c=(this.element.getAttribute("sandbox")||"").split(" ").map((function(t){return t.trim()}));u="".concat(Te.thirdParty,"/").concat("2303151529000","/amp-script-proxy-iframe.html");var f,l,h,p={authorURL:this.uW,mutationPump:this.mW.bind(this),longTask:function(t){r.oW.expandLongTask(t)},sanitizer:new Fe(this,c),onCreateWorker:function(t){wn().info(ze,"Create worker:",t)},onSendMessage:function(t){wn().info(ze,"To worker:",t)},onReceiveMessage:function(t){wn().info(ze,"From worker:",t)},sandbox:this.hW&&{iframeUrl:u}};return(f=t||this.element,l=s,h=p,h.hydrateFilter=Z,function(t,n,r){var i=n.dataset.shadowDom;if("open"===i||"closed"===i){i=n.attachShadow({mode:i});var o=n.cloneNode(!0);i.appendChild(o),n=o}var a,u=new q,s=new V,c=new v(u,n),f=(a=r,Object.assign({},{mutationPump:requestAnimationFrame.bind(null),executorsAllowed:d},a));return t.then((function(t){var i,o=function(t){if(Array.isArray(t))return t}(i=t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(t){u=!0,i=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}}(i)||e(i,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1];if(a&&l&&r.authorURL){var h=new $(n,c,a,l,f),p=new B(u,c,h,f,s);return h.worker.onmessage=function(t){var n=t.data;K.includes(n[12])&&(p.mutate(n[54],n[37],n[41],new Uint16Array(n[36])),r.onReceiveMessage)&&r.onReceiveMessage(t)},h.ready().then((function(){return new X(h,f)}))}return null}))}(l,f,h)).then((function(t){r.iW=t,r.lh.resolve(),r.iW&&(r.iW.onerror=function(t){t.preventDefault(),gn().error(ze,"".concat(t.message,"\n    at (").concat(t.filename,":").concat(t.lineno,")"))})}))},f.dW=function(){var t,n,e,r,i,o,a,u=(t=this.win.location,n=this.lW?"amp-script-worker-nodom":"amp-script-worker",e="0.1",i=function(t,n){if(n){var e="".concat(t.protocol,"//").concat(t.host);return"about:"!=t.protocol&&"blob:"!=t.protocol&&"data:"!=t.protocol||(e=""),"".concat(e,"/dist")}return Rn.cdn}(t,!1),o=(r=self,r.__AMP_MODE?r.__AMP_MODE:r.__AMP_MODE=function(t){return{localDev:!1,development:mn(t,hn(t)),esm:!1,test:!1,rtvVersion:dn(t),ssrReady:!1}}(r)).rtvVersion,a=e?"-"+e:"","".concat(i,"/rtv/").concat(o,"/v0/").concat(n).concat(a).concat(".js"));return Jn(this.win).fetchText(u,{ampCors:!1}).then((function(t){return t.text()}))},f.pW=function(t){var n=this.element.getAttribute("src");if(n)return this.vW(n,t);var e=this.element.getAttribute("script");if(e){var r=this.getAmpDoc().getElementById(e);kn(r,"[%s] %s could not find element with #%s.",ze,t,e),kn("amp-script"===r.getAttribute("target"),'[%s] script#%s must have target="amp-script".',ze,e);var i=r.textContent;return this.fW||this.hW?Promise.resolve(i):this.aW.checkSha384(i,t).then((function(){return i}))}return null},f.vW=function(t,n){var e=this;return Jn(this.win).fetchText(t,{ampCors:!1}).then((function(t){if(t.url&&e.bW(t.url)){var r=t.headers.get("Content-Type");if(!r||!r.startsWith("application/javascript")&&!r.startsWith("text/javascript"))throw gn().createError(ze,'Same-origin "src" requires "Content-Type: text/javascript" or "Content-Type: application/javascript". '+"Fetched source for ".concat(n,' has "Content-Type: ').concat(r,'". ')+"See https://amp.dev/documentation/components/amp-script/#security-features.");return t.text()}return e.fW||e.hW?t.text():t.text().then((function(t){return e.aW.checkSha384(t,n).then((function(){return t}))}))}))},f.bW=function(t){var n=zn(this.element,"url");return n.getSourceOrigin(this.getAmpDoc().getUrl())===n.parse(t).origin},f.isMutationAllowedByFixedSize=function(){return ut(this.getLayout())},f.isMutationAllowedByUserGesture=function(){return this.oW.isActive()},f.mW=function(t,n){var e=this;1==n&&this.cc.mutate((function(){return e.element.classList.add("i-amphtml-hydrated")}));var r=this.isMutationAllowedByFixedSize()||this.isMutationAllowedByUserGesture();this.cc.mutate((function(){var i=t(r),o=nt();i.forEach((function(t){o[t]=o[t]+1||1})),Object.keys(o).forEach((function(t){var n=o[t];gn().error(ze,e.gW(t,n))})),i.length>0&&2===n&&(e.iW.terminate(),e.element.classList.remove("i-amphtml-hydrated"),e.element.classList.add("i-amphtml-broken"),gn().error(ze,"%s was terminated due to illegal mutation.",e.uW))}))},f.gW=function(t,n){var e;switch(t){case"0":case"3":e="DOM element attributes or styles";break;case"1":e="textContent or the like";break;case"2":e="DOM element children, innerHTML, or the like";break;default:e="the DOM"}return"Blocked ".concat(n," attempts to modify ").concat(e,".")+" For variable-sized <amp-script> containers, a user action has to happen first."},s}(t.BaseElement),Le=function(){function t(t){this.Vo=t,this.yW=0,this.wW=0,this.AA=[];var n=t.getMetaByName("amp-script-src");n&&(this.AA=n.split(/\s+/).filter(Boolean)),this.tJ=Tn(t.win,"crypto")}var n=t.prototype;return n.checkSha384=function(t,n){var e,r=this,i=(e=t,"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):function(t){for(var n=new Uint8Array(t.length),e=0;e<t.length;e++){var r=t.charCodeAt(e);it(r<=255),n[e]=r}return n}(unescape(encodeURIComponent(e))));return this.tJ.sha384Base64(i).then((function(t){if(!t||!r.AA.includes("sha384-"+t))throw gn().createError(ze,"Script hash not found or incorrect for ".concat(n,'. You must include <meta name="amp-script-src" content="sha384-').concat(t,'">. ')+'During development, you can disable this check by adding the "data-ampdevmode" attribute to '.concat(n,", or the root html node")+"See https://amp.dev/documentation/components/amp-script/#script-hash.")}))},n.sizeLimitExceeded=function(t,n){return n?this.wW+=t:this.yW+=t,n?this.wW>De:this.yW>Me},n.fetch=function(t,n){var e=t.slice("amp-script:".length).split(".");kn(2===e.length&&e[0].length>0&&e[1].length>0,"[".concat(ze,']: "amp-script" URIs must be of the format "scriptId.functionIdentifier".'));var r=e[0],i=e[1],o=this.Vo.getElementById(r);kn(o&&"AMP-SCRIPT"===o.tagName,"[".concat(ze,"]: could not find <amp-script> with script set to ").concat(r));var a=Array.prototype.slice.call(arguments,1);return o.getImpl().then((function(t){return t.callFunction.apply(t,[i].concat(a))}))},t}(),Ce=["form","button","fieldset","input","object","output","select","textarea"],Fe=function(){function t(t,n){var e,r,i,o=this;this.t=t.win,this.En=t.element,r="purifier-inplace",i=function(){return new Se(t.win.document,{"IN_PLACE":!0},Kn)},function(t,n,e,r,i,o){var a=In(t),u=a[e];u||(u=a[e]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),u.ctor||(u.ctor=r,u.context=n,u.sharedInstance=!1,u.resolve&&Cn(t,e))}(e=Dn(e=this.t),e,r,i),this.pz=Tn(this.t,"purifier-inplace"),this.xW=this.pz.getAllowedTags(),this.kW=function(){return t.isMutationAllowedByUserGesture()},this.SW=function(){return!o.kW()&&t.isMutationAllowedByFixedSize()},this.xW["amp-img"]=!0,this.xW["amp-layout"]=!0,this.xW["amp-pixel"]=!1,this.OW=n.includes("allow-forms"),Ce.forEach((function(t){o.xW[t]=o.OW}))}var n=t.prototype;return n.sanitize=function(t){var n=t.nodeName.toLowerCase(),e=this.xW[n];return e||this.jW(n)||gn().warn(ze,"Sanitized node:",t),e},n.setAttribute=function(t,n,e){var r=t.nodeName.toLowerCase();if(this.xW[r]){var i=n.toLowerCase();if(this.pz.validateAttributeChange(t,i,e)){if(null==e)t.removeAttribute(i);else{var o=Kn(r,i,e);t.setAttribute(i,o)}return"a"===r&&t.hasAttribute("href")&&!t.hasAttribute("target")&&t.setAttribute("target","_top"),!0}}return this.jW(r)||gn().warn(ze,'Sanitized [%s]="%s":',n,e,t),!1},n.jW=function(t){return!(this.OW||!Ce.includes(t)||(gn().warn(ze,'Form elements (%s) cannot be mutated unless your <amp-script> includes the attribute sandbox="allow-forms".',t),0))},n.setProperty=function(t,n,e){var r=n.toLowerCase();return!!this.pz.validateAttributeChange(t,r,e)&&(t[n]=e,!0)},n.getStorage=function(t,n){if(2===t)return qn(this.En).then((function(t){if(t)return t.getStateValue(n||".")}));for(var e=this.AW(t),r={},i=0;i<e.length;i++){var o=e.key(i);o&&!o.startsWith("amp-")&&(r[o]=e.getItem(o))}return r},n.setStorage=function(t,n,e){var r=this;if(2===t)return qn(this.En).then((function(t){if(t){var n=function(t,n){try{return function(t){return JSON.parse(t)}(t)}catch(t){return null==n||n(),null}}(e,(function(){wn().error(ze,"Invalid AMP.setState() argument: %s",e)}));if(n){var i=r.kW(),o=r.SW()?[r.En]:void 0;i||o||gn().warn(ze,"AMP.setState only updated page state and did not reevaluate bindings due to lack of recent user interaction."),t.setState(n,{skipEval:!i&&!o,skipAmpState:!1,constrain:o})}}}));var o=this.AW(t);return null===n?null===e&&gn().error(ze,"Storage.clear() is not supported in amp-script."):n.startsWith("amp-")?gn().error(ze,'Invalid "amp-" prefix for storage key: %s',n):null===e?o.removeItem(n):o.setItem(n,e),i()},n.AW=function(t){return 0===t?this.t.localStorage:1===t?this.t.sessionStorage:null},t}();t.registerServiceForDoc(ze,Le),t.registerElement(ze,_e,"amp-script{opacity:0.7}amp-script.i-amphtml-hydrated{opacity:1}\n/*# sourceURL=/extensions/amp-script/0.1/amp-script.css*/")}();
/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-script-0.1.js.map